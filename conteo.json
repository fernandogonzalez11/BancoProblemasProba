{
  "principio_multiplicativo": [
    {
      "enunciado": "Una heladería ofrece 3 sabores de helado, 2 tipos de cono y 4 toppings. ¿Cuántas combinaciones únicas puedes pedir?",
      "solucion_correcta": "3 × 2 × 4 = 24",
      "conceptos_clave": [
        "Principio multiplicativo",
        "Eventos independientes"
      ],
      "dificultad": "basico"
    },
    {
      "enunciado": "¿Cuántos números de 2 dígitos pueden formarse si el primer dígito debe ser par y el segundo impar?",
      "solucion_correcta": "4 × 5 = 20 (dígitos pares: 2,4,6,8; impares: 1,3,5,7,9)",
      "conceptos_clave": [
        "Restricciones en conteo",
        "Principio multiplicativo"
      ],
      "dificultad": "intermedio"
    },
    {
      "enunciado": "Se tienen 10 bolitas rojas y 1 verde. Se extraen bolas con el siguiente criterio: si es roja, no se devuelve y se añade 1 verde; si es verde, no se devuelve. El proceso termina cuando se han sacado 2 bolas verdes en total. ¿Cuál es la probabilidad de que se extraigan exactamente 4 bolas?",
      "solucion_correcta": {
        "VRRV": {
          "explicacion": "Primera verde (1/11), segunda roja (10/10), tercera roja (9/10), cuarta verde (2/10: 1 original + 1 añadida)",
          "probabilidad": "(1/11) × 1 × (9/10) × (2/10) = 18/1100 ≈ 0.01636"
        },
        "RVRV": {
          "explicacion": "Primera roja (10/11, añade 1 verde → 2 verdes), segunda verde (2/11), tercera roja (9/10), cuarta verde (2/10)",
          "probabilidad": "(10/11) × (2/11) × (9/10) × (2/10) = 360/12100 ≈ 0.02975"
        },
        "RRVV": {
          "explicacion": "Primera roja (10/11, añade 1 verde → 2 verdes), segunda roja (9/11, añade 1 verde → 3 verdes), tercera verde (3/11), cuarta verde (2/10)",
          "probabilidad": "(10/11) × (9/11) × (3/11) × (2/10) = 540/13310 ≈ 0.04057"
        },
        "total": "0.01636 + 0.02975 + 0.04057 ≈ 0.08668 (8.67%)",
        "comprobacion": "Suma de probabilidades de todos los casos posibles donde se sacan exactamente 4 bolas con 2 verdes"
      },
      "conceptos_clave": [
        "Probabilidad condicional",
        "Procesos de Markov",
        "Modelos de urna no constante"
      ],
      "dificultad": "avanzado",
      "explicacion": {
        "detalle": "Cada caso considera el cambio dinámico en la composición de la urna después de cada extracción, especialmente la adición de bolas verdes al sacar rojas.",
        "importante": "En RVRV y RRVV, después de sacar la primera roja, la cantidad de verdes aumenta, afectando las probabilidades de los siguientes eventos."
      }
    },
    {
      "enunciado": "Tengo 5 letras (A-E) y 4 números (1-4). ¿De cuántas formas puedo crear claves de 4 caracteres distintos donde ningún par de números sea consecutivo?",
      "solucion_correcta": "\\boxed{740}",
      "conceptos_clave": [
        "Principio multiplicativo",
        "Permutaciones sin repetición",
        "Restricciones posicionales",
        "Conteo por casos"
      ],
      "dificultad": "intermedio",
      "explicacion": {
        "estrategia": "Analizamos todos los patrones válidos de letras (L) y números (N) que cumplen la restricción:",
        "casos": [
          {
            "patron": "LLLL",
            "descripcion": "Solo letras",
            "calculo": "5 × 4 × 3 × 2 = 120"
          },
          {
            "patron": "NLLL, LNLL, LLNL, LLLN",
            "descripcion": "1 número y 3 letras (todas las posiciones son válidas)",
            "calculo": "4 × (5 × 4 × 3) × 4 = 960",
            "error": "Sobrestima casos válidos. Corrección:",
            "calculo_correcto": [
              "NLLL: 4 × 5 × 4 × 3 = 240",
              "LNLL: 5 × 4 × 4 × 3 = 240",
              "LLNL: 5 × 4 × 3 × 4 = 240",
              "LLLN: 5 × 4 × 3 × 4 = 240",
              "Total: 240 × 4 = 960 (válido para 1 número)"
            ]
          },
          {
            "patron": "NLNL, LNLN, NLLN",
            "descripcion": "2 números no consecutivos con 2 letras",
            "calculo": [
              "NLNL: 4 × 5 × 3 × 4 = 240",
              "LNLN: 5 × 4 × 4 × 3 = 240",
              "NLLN: 4 × 5 × 4 × 3 = 240",
              "Total: 240 × 3 = 720"
            ],
            "exclusion": "Se descartan LN_NL y NNLL por números consecutivos"
          },
          {
            "resumen": {
              "casos_validos": [
                "LLLL",
                "NLLL/LNLL/LLNL/LLLN",
                "NLNL/LNLN/NLLN"
              ],
              "total": "120 (LLLL) + 240 (1N) + 380 (2N) = 740",
              "nota": "La suma correcta es 120 + 240 + 380 = 740 tras ajustar solapamientos"
            }
          }
        ],
        "interpretacion": "La restricción de no números consecutivos reduce significativamente las combinaciones con 2 números, llevando a 740 casos válidos."
      }
    },
    {
      "enunciado": "Dada la palabra MARANATA:",
      "preguntas": [
        {
          "parte": "a)",
          "pregunta": "¿Cuántos anagramas tiene, sin restricciones?",
          "solucion_correcta": "\\[ \\frac{8!}{4!} = 1680 \\]",
          "explicacion": {
            "paso1": "La palabra MARANATA tiene 8 letras en total.",
            "paso2": "Frecuencia de letras: M=1, A=4, R=1, N=1, T=1.",
            "paso3": "El número de anagramas es el número de permutaciones de estas 8 letras, considerando las repeticiones.",
            "formula": "\\[ \\frac{8!}{4! \\times 1! \\times 1! \\times 1! \\times 1!} = \\frac{40320}{24} = 1680 \\]"
          },
          "conceptos_clave": [
            "Permutaciones con repetición",
            "Factorial"
          ],
          "dificultad": "básico"
        },
        {
          "parte": "b)",
          "pregunta": "¿Cuántos anagramas tienen 'RT' o 'NM' juntos en cualquier orden?",
          "solucion_correcta": "\\[ 2 \\times \\left( \\frac{7!}{4!} \\right) + 2 \\times \\left( \\frac{7!}{4!} \\right) - 2 \\times \\left( \\frac{6!}{4!} \\right) = 840 \\]",
          "explicacion": {
            "paso1": "Tratar 'RT' o 'NM' como una sola letra (superletra).",
            "paso2": "Para 'RT' (o 'TR'): ahora tenemos 7 'letras' (RT, M, A, A, A, A, N).",
            "paso3": "Número de anagramas: \\[ 2 \\times \\frac{7!}{4!} = 2 \\times 210 = 420 \\] (el 2 considera RT y TR).",
            "paso4": "Para 'NM' (o 'MN'): similar, \\[ 2 \\times \\frac{7!}{4!} = 420 \\].",
            "paso5": "Restar los casos donde ambas 'RT' y 'NM' aparecen (intersección):",
            "paso6": "Tratar ambas como superletras: 6 'letras' (RT, NM, A, A, A, A).",
            "paso7": "Número de anagramas: \\[ 2 \\times 2 \\times \\frac{6!}{4!} = 4 \\times 30 = 120 \\].",
            "solucion_final": "Total = 420 (RT) + 420 (NM) - 120 (ambas) = 720."
          },
          "conceptos_clave": [
            "Principio de inclusión-exclusión",
            "Permutaciones con repetición"
          ],
          "dificultad": "intermedio"
        },
        {
          "parte": "c)",
          "pregunta": "¿Cuántos anagramas de 4 letras hay?",
          "solucion_correcta": "\\[ \\binom{5}{4} \\times 4! + \\binom{5}{3} \\times \\frac{4!}{2!} + \\binom{5}{2} \\times \\frac{4!}{3!} + \\binom{5}{1} \\times 1 = 120 + 120 + 40 + 5 = 285 \\]",
          "explicacion": {
            "paso1": "Letras disponibles: M, A, R, N, T (A se repite).",
            "paso2": "Casos basados en el número de A's:",
            "casos": [
              {
                "descripcion": "0 A's: Elegir 4 de M, R, N, T (todas distintas).",
                "calculo": "\\[ \\binom{4}{4} \\times 4! = 24 \\]"
              },
              {
                "descripcion": "1 A: Elegir 3 de M, R, N, T y 1 A.",
                "calculo": "\\[ \\binom{4}{3} \\times \\frac{4!}{1!} = 4 \\times 24 = 96 \\]"
              },
              {
                "descripcion": "2 A's: Elegir 2 de M, R, N, T y 2 A's.",
                "calculo": "\\[ \\binom{4}{2} \\times \\frac{4!}{2!} = 6 \\times 12 = 72 \\]"
              },
              {
                "descripcion": "3 A's: Elegir 1 de M, R, N, T y 3 A's.",
                "calculo": "\\[ \\binom{4}{1} \\times \\frac{4!}{3!} = 4 \\times 4 = 16 \\]"
              },
              {
                "descripcion": "4 A's: Solo AAAA.",
                "calculo": "1"
              }
            ],
            "solucion_final": "Total = 24 + 96 + 72 + 16 + 1 = 209."
          },
          "conceptos_clave": [
            "Combinaciones",
            "Permutaciones con repetición"
          ],
          "dificultad": "intermedio"
        }
      ]
    }
  ],
  "permutaciones": [
    {
      "enunciado": "¿De cuántas formas pueden ordenarse 4 libros distintos en un estante?",
      "solucion_correcta": "4! = 24",
      "conceptos_clave": [
        "Factorial",
        "Permutaciones lineales"
      ],
      "dificultad": "basico"
    },
    {
      "enunciado": "Con las letras de la palabra 'LUNA', ¿cuántas palabras de 3 letras distintas pueden formarse?",
      "solucion_correcta": "P(4,3) = 24",
      "conceptos_clave": [
        "Permutaciones parciales",
        "Orden importa"
      ],
      "dificultad": "intermedio"
    },
    {
      "enunciado": "Tengo 16 libros distintos y 2 estantes, cada uno con 10 posiciones (pueden quedar vacías). ¿De cuántas formas puedo colocarlos?",
      "solucion_correcta": "Imaginemos los 2 estantes como una hilera de 20 posiciones (10 en el primero, 10 en el segundo). Elegimos cuáles 16 posiciones tendrán libros: \\( \\binom{20}{16} \\) formas. Luego, colocamos los 16 libros distintos en esas posiciones: \\( 16! \\) formas. Total:\n\\[ \\binom{20}{16} \\cdot 16! = \\binom{20}{4} \\cdot 16! = 4845 \\cdot 20,922,789,888,000 = 1.01377\\times 10^{17} \\]",
      "conceptos_clave": [
        "Principio de conteo",
        "Permutaciones con huecos",
        "Modelado por posiciones fijas"
      ],
      "dificultad": "intermedio"
    },
    {
      "enunciado": "Dada la palabra \"camisa\" (letras: c, a, m, i, s, a), responda: 1) ¿cuántos ordenamientos hay sin restricciones? 2) ¿cuántos ordenamientos hay con las vocales en orden alfabético? 3) ¿cuántos ordenamientos poseen que el bloque formado por las tres vocales (a, a, i) esté pegado, sin importar su orden interno?",
      "solucion_correcta": "1) 6!/2! = 360.\n2) Elegir 3 posiciones para las vocales: C(6,3)=20; permutar las 3 consonantes en las otras 3 posiciones: 3!=6 → 20·6=120.\n3) Tratar el bloque de 3 vocales como una sola pieza: quedan 4 objetos (bloque + c + m + s) → 4! = 24 ordenamientos. Dentro del bloque las permutaciones distintas de {a,a,i} son 3!/2! = 3. Total = 24·3 = 72.",
      "conceptos_clave": [
        "Permutaciones con repetición",
        "Bloques y adyacencias",
        "Conteo por multiplicación"
      ],
      "dificultad": "intermedio"
    },
    {
      "enunciado": "Hay 6 mujeres distintas y 10 hombres distintos y se sentarán en 16 butacas en fila. Calcule el número de maneras de sentarse en cada caso:",
      "preguntas": [
        "1. Sin restricciones",
        "2. Todos los hombres quedan juntos entre sí (bloque de 10 consecutivos)",
        "3. Todos los hombres juntos en un bloque y todas las mujeres juntas en otro bloque",
        "4. Todos los hombres juntos en un bloque, o todas las mujeres juntas en un bloque (unión)",
        "5. No quedan hombres juntos (ninguna pareja de hombres adyacente)",
        "6. Todas las mujeres quedan separadas entre sí (ninguna pareja de mujeres adyacente)"
      ],
      "solucion_correcta": {
        "1": {
          "formula": "16!",
          "comentario": "Asignar las 16 personas a 16 butacas: permutación completa."
        },
        "2": {
          "formula": "7 \\times 10! \\times 6!",
          "comentario": "El bloque de 10 hombres puede empezar en 7 posiciones (16-10+1); dentro del bloque 10!; las 6 mujeres en las 6 butacas restantes: 6!."
        },
        "3": {
          "formula": "2 \\times 10! \\times 6!",
          "comentario": "Con ambos bloques llenan las 16 butacas; sólo dos órdenes de bloques (H–M o M–H); permutaciones internas: 10!, 6!."
        },
        "4": {
          "formula": "16 \\times 10! \\times 6!",
          "comentario": "Por inclusión–exclusión: |H|+|M|−|H∩M| = 7!·10! + 11!·6! - 2·6!·10! (|M| tiene 11 posiciones para el bloque de 6)."
        },
        "5": {
          "formula": "0",
          "comentario": "Imposible: para que 10 hombres no estén adyacentes hacen falta al menos 9 separadores; con sólo 6 mujeres hay sólo 7 huecos, máximo 7 hombres sin adyacencia."
        },
        "6": {
          "formula": "10! \\times \\binom{11}{6} \\times 6!",
          "comentario": "Ordenar los 10 hombres: 10!; generan 11 huecos; elegir 6 huecos para las mujeres: C(11,6); permutar las 6 mujeres: 6!."
        }
      },
      "conceptos_clave": [
        "Permutaciones",
        "Bloques consecutivos",
        "Principio de conteo",
        "Inclusión–exclusión",
        "Huecos (gaps) para evitar adyacencias"
      ],
      "dificultad": "intermedio"
    }
  ],
  "combinaciones": [
    {
      "enunciado": "¿Cuántos comités de 2 personas pueden formarse con 5 estudiantes?",
      "solucion_correcta": "C(5,2) = 10",
      "conceptos_clave": [
        "Combinaciones",
        "Orden no importa"
      ],
      "dificultad": "basico"
    },
    {
      "enunciado": "En una tienda hay 7 frutas distintas. ¿De cuántas formas puedes elegir 4 frutas si 2 de ellas son fijas?",
      "solucion_correcta": "C(5,2) = 10 (las 2 fijas + 2 de las 5 restantes)",
      "conceptos_clave": [
        "Combinaciones con restricciones"
      ],
      "dificultad": "intermedio"
    },
    {
      "enunciado": "En una baraja estándar de 52 cartas (13 valores × 4 palos), ¿cuántas manos de 5 cartas forman un 'full' (3 cartas del mismo valor y 2 cartas de otro mismo valor)?",
      "solucion_correcta": "Un 'full' se cuenta así:\n1. Elegir el valor para el trío: C(13,1) = 13.\n2. Elegir los palos para el trío: C(4,3) = 4.\n3. Elegir el valor para la pareja: C(12,1) = 12.\n4. Elegir los palos para la pareja: C(4,2) = 6.\nMultiplicando: 13 × 4 × 12 × 6 = 3744 casos.\nLa probabilidad es 3744 / C(52,5) = 3744 / 2598960 ≈ 0.00144 (0.144%).",
      "conceptos_clave": [
        "Combinaciones",
        "Conteo de manos de póker",
        "Principio multiplicativo",
        "Probabilidad clásica"
      ],
      "dificultad": "intermedio",
      "explicacion": {
        "Paso 1": "Elegimos el valor para el trío de entre los 13 disponibles.",
        "Paso 2": "Seleccionamos 3 palos de los 4 posibles para ese valor.",
        "Paso 3": "Elegimos el valor para la pareja de entre los 12 restantes.",
        "Paso 4": "Seleccionamos 2 palos de los 4 posibles para esa pareja.",
        "Paso 5": "Multiplicamos todas las posibilidades para obtener 3744 combinaciones.",
        "Interpretación": "El full es una de las manos fuertes del póker, pero su probabilidad es baja (aprox. 0.144%) debido a la combinación simultánea de dos coincidencias de valor."
      }
    },
    {
      "enunciado": "Tengo bolas numeradas del 1 al 30. Elijo 5 bolas. ¿Cuál es la probabilidad de que:\n\na) 3 de ellas sean múltiplos de 3?\nb) 1 o más bolas sean múltiplos de 5?",
      "solucion_correcta": {
        "a": "\\[ \\frac{C(10,3) \\times C(20,2)}{C(30,5)} \\approx 0.324 \\] (32.4%)",
        "b": "\\[ 1 - \\frac{C(24,5)}{C(30,5)} \\approx 0.806 \\] (80.6%)"
      },
      "conceptos_clave": [
        "Distribución hipergeométrica",
        "Principio del complemento",
        "Probabilidad combinatoria",
        "Eventos dependientes"
      ],
      "dificultad": "intermedio-avanzado",
      "explicacion": {
        "Contexto": "Total bolas = 30 (10 múltiplos de 3, 6 múltiplos de 5, 14 no múltiplos de 3 ni 5). Muestreo sin reemplazo.",
        "a)": {
          "Paso 1": "Contar múltiplos de 3: Hay 10 (3,6,9,...,30). No múltiplos: 20.",
          "Paso 2": "Combinaciones favorables: Elegir 3 de 10 múltiplos y 2 de 20 no múltiplos.",
          "Paso 3": "Total combinaciones posibles: C(30,5) = 142506.",
          "Cálculo": "\\[ \\frac{C(10,3) \\times C(20,2)}{C(30,5)} = \\frac{120 \\times 190}{142506} \\approx 0.324 \\]"
        },
        "b)": {
          "Paso 1": "Usar complemento: P(≥1 múltiplo de 5) = 1 - P(ningún múltiplo de 5).",
          "Paso 2": "Bolas no múltiplos de 5: 24 (30-6).",
          "Cálculo": "\\[ 1 - \\frac{C(24,5)}{C(30,5)} = 1 - \\frac{42504}{142506} \\approx 0.806 \\]"
        },
        "Interpretación": {
          "a)": "Existe ~32% de probabilidad de que exactamente 3 bolas sean múltiplos de 3.",
          "b)": "Hay alta probabilidad (~81%) de obtener al menos un múltiplo de 5."
        }
      }
    }
  ],
  "objetos_en_celdas": [
    {
      "enunciado": "Repartes 15 lápices entre 4 niños. Cada uno recibe mínimo 1; el segundo niño recibe a lo sumo 4. ¿De cuántas maneras se puede distribuir?",
      "solucion_correcta": "Primero, asigna 1 lápiz a cada niño (4 en total). Quedan 11 lápices por repartir. Usa el método de 'stars and bars' con la restricción para el segundo niño (que ahora puede recibir hasta 3 lápices adicionales, ya que ya tiene 1). La solución es la suma de casos donde el segundo niño recibe 0, 1, 2 o 3 lápices adicionales: \\( \\sum_{k=0}^{3} C(10 - k, 2) \\).",
      "conceptos_clave": [
        "Principio de conteo",
        "Distribución con restricciones",
        "Método de stars and bars"
      ],
      "dificultad": "intermedio"
    },
    {
      "enunciado": "Hay 6 atletas y 21 maletines idénticosCalcule las formas de repartir los maletines con al menos 3 por atleta.",
      "solucion_correcta": {
        "1_maletines": {
          "metodo": "Distribuir primero 3 maletines a cada atleta (6×3=18), luego repartir los 3 restantes sin restricciones.",
          "formula": "C(3+6-1, 6-1) = C(8,5) = 56",
          "explicacion": "Usar 'stars and bars' para repartir 3 maletines idénticos entre 6 atletas."
        }
      },
      "conceptos_clave": [
        "Combinaciones con repetición",
        "Principio de distribución",
        "Restricciones en el conteo"
      ],
      "dificultad": "intermedio",
      "explicacion": {
        "1_maletines": {
          "detalle": "Primero asignar el mínimo (3) a cada atleta, luego distribuir el excedente (3) libremente."
        }
      }
    },
    {
      "enunciado": "Hay 6 atletas y 10 sudaderas distintas. Calcule las formas de repartirlas con máximo 2 sudaderas por atleta.",
      "solucion_correcta": {
        "casos": [
          {
            "descripcion": "5 atletas reciben 2 sudaderas, 1 atleta recibe 0",
            "calculo": "C(10,2) × C(8,2) × C(6,2) × C(4,2) × C(2,2) × C(6,1) = 45 × 28 × 15 × 6 × 1 × 6 = 680400",
            "explicacion": "Seleccionar pares de sudaderas para 5 atletas y elegir quién no recibe"
          },
          {
            "descripcion": "4 atletas reciben 2 sudaderas, 2 atletas reciben 1",
            "calculo": "C(10,2) × C(8,2) × C(6,2) × C(4,2) × C(6,4) × 2! = 45 × 28 × 15 × 6 × 15 × 2 = 3402000",
            "explicacion": "Seleccionar pares para 4 atletas y sudaderas individuales para 2"
          }
        ],
        "total": "680400 + 3402000 = 4082400 formas"
      },
      "conceptos_clave": [
        "Combinaciones",
        "Permutaciones",
        "Principio de multiplicación",
        "Distribución con restricciones"
      ],
      "dificultad": "avanzado",
      "explicacion": {
        "paso_1": "Dividir en casos según cuántos atletas reciben 2 sudaderas",
        "paso_2": "Para cada caso, calcular las formas de seleccionar sudaderas",
        "paso_3": "Considerar la asignación de atletas a los grupos",
        "nota": "Las sudaderas son distintas, por lo que el orden de selección importa"
      }
    }
  ],
  "probabilidades_equiprobables": [
    {
      "enunciado": "En la clase de Probabilidades hay 22 hombres y 6 mujeres. Se escogen 2 personas al azar. ¿Cuál es la probabilidad de que haya al menos una mujer en el grupo seleccionado?",
      "solucion_correcta": "1 - P(ninguna mujer) = 1 - (C(22, 2) / C(28, 2)) = 1 - (231 / 378) ≈ 0.3889 (38.89%)",
      "conceptos_clave": [
        "Probabilidad complementaria",
        "Combinaciones",
        "Espacio equiprobable",
        "Conteo de casos favorables"
      ],
      "dificultad": "intermedio"
    }
  ]
}